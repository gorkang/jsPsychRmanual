<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>jsPsychR manual - 3&nbsp; jsPsychMaker</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../qmd/04-jsPsychMonkeys.html" rel="next">
<link href="../qmd/02-QuickGuide.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../site_libs/datatables-binding-0.24/datatables.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../site_libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../site_libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="../site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="../site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="../site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="../site_libs/selectize-0.12.0/selectize.min.js"></script>
<link href="../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">jsPsychMaker</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">jsPsychR manual</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/gorkang/jsPsychR-manual/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="../jsPsychR-manual.pdf" title="Download PDF" class="sidebar-tool px-1"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">What is jsPsychR?</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/01-intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Reproducible experiments</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/02-QuickGuide.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Quick Guide</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/03-jsPsychMaker.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">jsPsychMaker</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/04-jsPsychMonkeys.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">jsPsychMonkeys</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/05-jsPsychHelpeR.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">jsPsychHelpeR</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/06-jsPsychRadmins.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">jsPsychR Admins</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/07-NEWtasks.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Help with new tasks</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/10-references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#available-tasks" id="toc-available-tasks" class="nav-link active" data-scroll-target="#available-tasks"> <span class="header-section-number">3.1</span> Available tasks</a></li>
  <li><a href="#experiment-configuration" id="toc-experiment-configuration" class="nav-link" data-scroll-target="#experiment-configuration"> <span class="header-section-number">3.2</span> Experiment configuration</a>
  <ul class="collapse">
  <li><a href="#main-parameters" id="toc-main-parameters" class="nav-link" data-scroll-target="#main-parameters"> <span class="header-section-number">3.2.1</span> Main parameters</a></li>
  <li><a href="#order-of-tasks" id="toc-order-of-tasks" class="nav-link" data-scroll-target="#order-of-tasks"> <span class="header-section-number">3.2.2</span> Order of tasks</a></li>
  <li><a href="#between-subject-tasks" id="toc-between-subject-tasks" class="nav-link" data-scroll-target="#between-subject-tasks"> <span class="header-section-number">3.2.3</span> Between-subject tasks</a></li>
  </ul></li>
  <li><a href="#online-offline-protocols" id="toc-online-offline-protocols" class="nav-link" data-scroll-target="#online-offline-protocols"> <span class="header-section-number">3.3</span> online-offline protocols</a>
  <ul class="collapse">
  <li><a href="#offline" id="toc-offline" class="nav-link" data-scroll-target="#offline"> <span class="header-section-number">3.3.1</span> Offline</a></li>
  <li><a href="#online" id="toc-online" class="nav-link" data-scroll-target="#online"> <span class="header-section-number">3.3.2</span> Online</a></li>
  </ul></li>
  <li><a href="#need-help-implementing-a-task" id="toc-need-help-implementing-a-task" class="nav-link" data-scroll-target="#need-help-implementing-a-task"> <span class="header-section-number">3.4</span> Need help implementing a task!</a></li>
  <li><a href="#developing-tasks" id="toc-developing-tasks" class="nav-link" data-scroll-target="#developing-tasks"> <span class="header-section-number">3.5</span> Developing tasks</a></li>
  <li><a href="#technical-aspects" id="toc-technical-aspects" class="nav-link" data-scroll-target="#technical-aspects"> <span class="header-section-number">3.6</span> Technical aspects</a>
  <ul class="collapse">
  <li><a href="#misc" id="toc-misc" class="nav-link" data-scroll-target="#misc"> <span class="header-section-number">3.6.1</span> Misc</a></li>
  <li><a href="#jspsychmaker-main-changes-on-a-task" id="toc-jspsychmaker-main-changes-on-a-task" class="nav-link" data-scroll-target="#jspsychmaker-main-changes-on-a-task"> <span class="header-section-number">3.6.2</span> jsPsychMaker main changes on a task</a></li>
  <li><a href="#conditional-questions" id="toc-conditional-questions" class="nav-link" data-scroll-target="#conditional-questions"> <span class="header-section-number">3.6.3</span> Conditional questions</a></li>
  </ul></li>
  <li><a href="#common-errors" id="toc-common-errors" class="nav-link" data-scroll-target="#common-errors"> <span class="header-section-number">3.7</span> Common ERRORS</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="jsPsychMaker" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">jsPsychMaker</span></span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<hr>
<p><a href="https://github.com/gorkang/jsPsychMaker">jsPsychMaker</a>: Create experiments with jsPsych, randomize participants, etc.</p>
<hr>
<p>Using jsPsychMaker to build experimental protocols helps you with a few things:</p>
<ul>
<li><p>Create full protocols using tasks already implemented by just editing a config.js file</p>
<ul>
<li>You can also use the <a href="https://gorkang.shinyapps.io/jsPsychMaker_config/">jsPsychMaker Shiny APP</a> to create your config.js file</li>
</ul></li>
<li><p>Select order of tasks, randomize subsets of tasks, etc.</p></li>
<li><p>Randomize participants to groups making sure the balance between the groups is maintained</p></li>
<li><p>Allow participants to continue in the task where they left in the protocol</p></li>
<li><p>Set time limits to complete the protocol</p>
<ul>
<li>Automatically discard participants over the time limit, freeing the slots for new participants</li>
</ul></li>
<li><p>Seamlessly select between online and offline protocols</p></li>
<li><p>Simulate participants with <a href="04-jsPsychMonkeys.html">jsPsychMonkeys</a></p></li>
<li><p><em>Automagically</em> get your data prepared with <a href="05-jsPsychHelpeR.html">jsPsychHelpeR</a></p></li>
</ul>
<hr>
<p><strong>See <a href="02-QuickGuide.html#QuickGuidejsPsychMaker">QuickGuide</a> for basic instructions.</strong></p>
<hr>
<section id="available-tasks" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="available-tasks"><span class="header-section-number">3.1</span> Available tasks</h2>
<p>In 2022-08-18 we have 58 tasks implemented, and 29 in development. The full details about the available tasks can be checked in <a href="https://docs.google.com/spreadsheets/d/1Eo0F4GcmqWZ1cghTpQlA4aHsc8kTABss-HAeimE2IqA/edit#gid=0">this document</a>. You can always check <a href="https://github.com/gorkang/jsPsychMaker/tree/main/canonical_protocol/tasks">the full list of tasks in the Github repo</a>.</p>
<p>If you need help creating a NEW task, see the section <a href="07-NEWtasks.html">help creating a new task</a>.</p>
<hr>
<p>Below, a table with an overview of the available tasks:</p>
<div class="cell">
<div class="cell-output-display">

<div id="htmlwidget-DT-d4e0dee3825625723a1c" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-DT-d4e0dee3825625723a1c">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58"],["AIM","Bank","BART","BNT","bRCOPE","CAS","Consent","ConsentHTML","Cov19Q","COVIDCONTROL","CRS","CRT7","CRTMCQ4","CRTv","DASS21","DEBRIEF","DEMOGR","EAR","EmpaTom","ERQ","ESM","FONDECYT2022E1","GBS","GHQ12","Goodbye","HRPVB","HRPVBpost","IBT","IDQ","IEC","INFCONS","IRI","IRS","MDMQ","MIS","OBJNUM","OTRASRELIG","PRFBM","PRFBMpost","PSETPP","PSPPC","PSS","PVC","PWb","R-PBS","REI40","Report","RTS","SASS","SBS","SCSORF","SDG","SRA","SRBQP","SRSav","STAI","SWBQ","WEBEXEC"],["Grupos Socieeconómicos","Detalles bancarios","Balloon Analogue Risk Task","Berlin Numeracy test","Escala de afrontamiento religioso Brief-RCOPE","COVID-19 anxiety scale","Consentimiento Informado de Participación","Consentimiento Informado de Participación","Cuestionario Covid 19","Covid related Questions","The Centrality of Religiosity Scale","Cognitive reflection test","Cognitive reflection test - 4 alternatives","Verbal Cognitive Reflection Test","Escalas de depresión ansiedad y estrés","Debrief at end of experiment","Demographic scale","Escala de Autoestima de Rosenberg","Empatia, Teoria de la mente y Compasión","Emotion Regulation Questionnaire","Escala Subjetiva de Memoria","Tarea experimental FONDECYT 2021 Gorka Navarrete","Global Beliefs Screening","12-item General health questionnaire","Goodbye task","High risk perception of vaginal birth","High risk perception of vaginal birth (POST)","Impulsive buying Tendency","Cuestionario de Identificación","Rotters internal-External control scale","Cesarean information brochures","Interpersonal reactivity index","Importance of Rationality Scale","Melbourne Decision Making Questionnaire","Magical ideation scale","Lipkus numeracy Test","Varias preguntas sobre creencias religiosas","Preferencia of birth mode in normal pregnancy","Preferencia of birth mode in normal pregnancy (post)","Percepciones sobre el embarazo, trabajo de parto y parto (Fear of birth scale)","Percepciones sobre el parto por cesárea","Perceived Stress Scale","Preguntas vacuna COVID-19","Psychological well being-scale","Paranormal Belief Scale","Rational-Experiential intentory-40","Tarea para solicitar autorización y detalles para enviar reporte automatizado con resultados de participantes","The Revised Transliminality Scale","Social Adaptation Self-evaluation Scale","Supernatural Belief Scale","Santa Clara Strength of Religious Faith Questionnaire","Socio Demográfico General","Self-Reported Altruism Scale","Self-regulation and belief questionnaire in pandemic","Springfield Religiosity Scale (Abbreviated Version)","State-Trait Anxiety Inventory","Spiritual wellbeing questionnaire","Web based executive funtion questionnaire"],["Modelo que permite segmentar y clasificar socioeconómicamente a los individuos.","Detalles bancarios para realizar transferencia a participante por su participación en experimento","Medida de riesgo individual mediante el análisis de las condultas del individuo","Breve, flexible y de fácil aplicación. Mide habilidades numéricas","Evalúa dos patrones de afrontamiento religioso en población adolescente y adulta","Evalúa las fluctuaciones en los niveles de ansiedad causados ​​​​por COVID-19","Consentimiento informado estandard","Consentimiento informado estandard","Evalúa dimensiones relacionadas al covid-19","Busca conocer los cambios que han ocurrido en la vida del entrevistado desde la aparición del COVID-19.","Mide la intensidad general de cinco dimensiones básicas de la religiosidad.","Mide la tendencia a anular una alternativa de respuesta prepotente que es incorrecta y participar en una reflexión adicional que conduce a la respuesta correcta.","Mide la tendencia a anular una alternativa de respuesta prepotente que es incorrecta y participar en una reflexión adicional que conduce a la respuesta correcta.","Mide la capacidad de suprimir una intuición inicial (incorrecta) y reflexionar cognitivamente.","Mide escala de ansiedad, estrés y depresión (autoinforme)","Informe presentado al final del experimento","Ejemplo de tarea donde se recoje información demográfica del encuestado","Instrumento unidimensional que mide la autoestima.","Tarea de video social que permite la manipulación y evaluación independiente de la empatía y compasión","Evalua dos estrategias de regulación emocional (autoinforme)","Evalúa la memoria del paciente directamente con él/ella","Tarea experimental para evaluar mejoras en la comprensión de PPV y NPV a partir de presentación de apoyo pictórico","Evalúa las creencias del entrevistado","Detecta personas con trastorno psiquiátrico diagnosticable","Despedida del experimento. Entrega el código aleatorio de participación",null,null,"Mide impulsividad de compra","Cuestionario que permite identificar a los individuos y además contiene preguntas sobre diagnósticos psiquiatricos.","Mide el grado en que las personas creen que ejercen control sobre sus vidas (controladas internamente) o el grado a los que sienten que sus destinos están más allá de su propio control y están determinados por el destino (controladas externamente)","Entrega información sobre las cesáreas (consentimiento informado)","Es una medida de empatía de diferencia individual con un enfoque multidimensional. (Medida de autoinforme)","Mide la importancia personal (no verbal) que los individuos asignan a la formación y evaluación de la creencia sobre bases racionales","Mide patrones de afrontamiento de decisiones","Mide el nivel de pensamiento mágico del individuo","Mide el rendimiento en preguntas de resolución numérica","Escala con multiples preguntas sobre religión. Creada a partir de preguntas propias y multiples escalas.",null,null,"Evalúa las actitudes y sentimientos del individuo hacia el embarazo, trabajo de parto y parto.",null,"Mide el grado en que las situaciones en la vida de uno son valoradas como estresantes.","Entrega información respecto al estado de vacunación contra covid19","Mide el bienestar psicológico","Proporciona una medida del grado de creencia en siete dimensiones","Mide las diferencias individuales de dos dimensiones independientes del procesamiento humano: racional y experiencial.","La tarea Report solicita autorización y detalles para enviar reporte automatizado. Existe un archivo Rmd en jsPsychHelpeR que trabaja con el input de esta tarea para generar reportes automatizados para los participantes.","Mide el nivel de transliminalidad del entrevistado.","Estudia la motivación y el comportamiento del paciente en distintas áreas","Evalua la medida de la creencia en agentes religiosos sobrenaturales, lugares y eventos.","Evalúa la fuerza de la fe religiosa.","Recolecta información demográfica del individio","Mide el altruismo del individuo",null,"Refleja una perspectiva judeocristiana conservadora o tradicional","Entrega una medida empírica del nivel de ansiedad “normal” en adultos, medinate la medición de 2 conceptos independientes.","Mide el bienestar personal, bienestar comunitario, bienestar ambiental y bienestar trascendental.","Refleja la experiencia general de los participantes sobre los problemas ejecutivos en lugar de cualquier aspecto específico de los mismos."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>short_name<\/th>\n      <th>Nombre<\/th>\n      <th>Descripcion<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":25,"dom":"tlp","columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="experiment-configuration" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="experiment-configuration"><span class="header-section-number">3.2</span> Experiment configuration</h2>
<p>In the <code>config.js</code> file you can find the main parameters to control how your experiment works.</p>
<p>There is a shiny app in <code>jsPsychMaker/app/</code> to help you create a <code>config.js</code> with the main parameters for your protocol using a visual interface. You can run the app locally or go to <a href="https://gorkang.shinyapps.io/jsPsychMaker_config/">jsPsychMaker_config Shiny APP</a>. You will need to copy the generated config.js file to your protocol folder. The Shiny app can also help you create a parametrized consent form (see the Consent tab).</p>
<section id="main-parameters" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="main-parameters"><span class="header-section-number">3.2.1</span> Main parameters</h3>
<ul>
<li><p><code>pid = 999999;</code>: Number of protocol</p></li>
<li><p><code>online = true;</code>: true if the protocol run in a server, false if runs locally</p></li>
<li><p><code>max_participants = 3;</code>: If you have <code>between participants</code> conditions (participants are assign to only one of a number of conditions), this is the max number of participants per condition</p></li>
<li><p><code>random_id = false;</code>: true if you want to assign a random id to participants, false if the participant needs to input an id</p></li>
<li><p><code>max_time = "24:00:00";</code>: Max time to complete the protocol (HH:MM:SS; Hours:Minutes:Seconds)</p></li>
<li><p><code>accept_discarded = true;</code>: If an user is discarded (over max_time), shall be allowed to continue given there are available slots?</p></li>
<li><p><code>debug_mode = false;</code>: When testing the protocol it shows DEBUG messages, creates the DB tables if they don’t exist… It also forces the tasks with random order of items to avoid the randomization so the <code>jsPsychMonkeys</code> can have a reproducible behavior.</p></li>
</ul>
</section>
<section id="order-of-tasks" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="order-of-tasks"><span class="header-section-number">3.2.2</span> Order of tasks</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>first_tasks <span class="op">=</span> [<span class="st">'Consent'</span>]<span class="op">;</span><span class="co">//  The protocol will start with these tasks in sequential order</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>last_tasks <span class="op">=</span> [<span class="st">'Goodbye'</span>]<span class="op">;</span><span class="co">//  Last block of tasks presented (in sequential order)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Create as many blocks as needed:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>randomly_ordered_tasks_1 <span class="op">=</span> [<span class="st">'TASK1'</span><span class="op">,</span> <span class="st">'TASK2'</span>]<span class="op">;</span> <span class="co">//  Block of tasks in random order</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>randomly_ordered_tasks_2 <span class="op">=</span> [<span class="st">'TASK3'</span>]<span class="op">;</span> <span class="co">//  Block of tasks in random order</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>secuentially_ordered_tasks_1 <span class="op">=</span> [<span class="st">'TASK5'</span><span class="op">,</span> <span class="st">'TASK4'</span>]<span class="op">;</span> <span class="co">// Block of tasks in sequential order</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The final array of tasks can be build combining the above blocks. The order of the tasks in the arrays starting with “random” will be randomized.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>tasks <span class="op">=</span> [<span class="st">'first_tasks'</span><span class="op">,</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>         <span class="st">'randomly_ordered_tasks_1'</span><span class="op">,</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">'secuentially_ordered_tasks_1'</span><span class="op">,</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>         <span class="st">'randomly_ordered_tasks_2'</span><span class="op">,</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">'last_tasks'</span>]<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="between-subject-tasks" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="between-subject-tasks"><span class="header-section-number">3.2.3</span> Between-subject tasks</h3>
<p>The variable <code>all_conditions</code> in <code>config.js</code> let’s you define the Independent Variables (IV) and levels for the between-subject tasks:</p>
<p>If there is no between-subject task:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>all_conditions <span class="op">=</span> {<span class="st">"protocol"</span><span class="op">:</span> {<span class="st">"type"</span><span class="op">:</span> [<span class="st">"survey"</span>]}}<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If there are between-subject tasks:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>all_conditions <span class="op">=</span> {<span class="st">"NAMETASK"</span><span class="op">:</span> {<span class="st">"name_IV"</span><span class="op">:</span> [<span class="st">"name_level1"</span><span class="op">,</span> <span class="st">"name_level2"</span>]}}<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>jsPsychR</code> will randomize participants to the different conditions keeping the unbalance between conditions to the minimum possible.</p>
</section>
</section>
<section id="online-offline-protocols" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="online-offline-protocols"><span class="header-section-number">3.3</span> online-offline protocols</h2>
<p>jsPsych uses standard web technologies (HTML, CSS y Javascript), so that protocols should run in any modern browser (updated, please). We recommend Google Chrome just because our test suite runs with Google Chrome, so we will catch its specific issues earlier.</p>
<section id="offline" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="offline"><span class="header-section-number">3.3.1</span> Offline</h3>
<p>If you want to run a protocol locally (on your computer, on a lab computer), you need to:</p>
<ul>
<li><p>set <code>online = false;</code> in the <code>config.js</code> file</p></li>
<li><p>double click index.html</p></li>
</ul>
<p><code>jsPsychR</code> will use <code>IndexedDB</code> to store the participants’ progress and balance between conditions. The output csv files will be Downloaded to the Download folder of the computer where the protocol runs.</p>
<section id="cors-errors" class="level4" data-number="3.3.1.1">
<h4 data-number="3.3.1.1" class="anchored" data-anchor-id="cors-errors"><span class="header-section-number">3.3.1.1</span> CORS ERRORS</h4>
<p>If any of the tasks imports an html file, the Offline protocol will give a CORS error.</p>
<p>There are ways to disable web security in your browser, but it <strong>MUST only be done if your experiment computer runs offline</strong>, otherwise you will be exposed to very bad things.</p>
<p>See <a href="https://stackoverflow.com/questions/3102819/disable-same-origin-policy-in-chrome">how to run chrome disabling web security to avoid CORS error</a>:</p>
<ul>
<li><code>google-chrome --disable-web-security --user-data-dir="~/"</code></li>
</ul>
</section>
</section>
<section id="online" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="online"><span class="header-section-number">3.3.2</span> Online</h3>
<p>Tu run a protocol online, set <code>online = true;</code> in the <code>config.js</code> file. You will need a couple more things:</p>
<ul>
<li>MySQL running in your server<br>
</li>
<li>A file <code>.secrets_mysql.php</code> with the content below<br>
</li>
<li>Define the route to <code>.secrets_mysql.php</code> in <code>controllers/php/mysql.php</code>
<ul>
<li><code>require_once '../../.secrets_mysql.php';</code><br>
</li>
<li><span style="     color: red !important;">THIS FILE <strong>MUST NOT</strong> BE PUBLICLY VISIBLE FROM THE BROWSER</span><br>
</li>
</ul></li>
<li><strong>Upload the files to the server</strong> :)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;?</span>php</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">/* DO NOT UPLOAD TO PUBLIC REPO */</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  $servername <span class="op">=</span> <span class="st">"127.0.0.1"</span><span class="op">;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  $username <span class="op">=</span> <span class="st">"USERNAME OF THE DATABASE"</span><span class="op">;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  $password <span class="op">=</span> <span class="st">"PASSWORD OF THE DATABASE"</span><span class="op">;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  $dbname <span class="op">=</span> <span class="st">"NAME OF THE DB"</span><span class="op">;</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="op">?&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>jsPsychR</code> will use <code>MySQL</code> to store the participants’ progress and balance between conditions. The output csv files will be Downloaded in the <code>.data/</code> folder inside the protocol folder in the server.</p>
<p>Before launching the final experiment, make sure you start with a clean slate! That can be summarized in 3 simple steps:</p>
<ol type="1">
<li>Check the configuration for you experiment (<code>config.js</code>) and make sure all is well. Some of the critical bits are:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>pid <span class="op">=</span> <span class="dv">999</span><span class="op">;</span> <span class="co">// SHOULD have your project ID!</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>online <span class="op">=</span> <span class="kw">true</span><span class="op">;</span> <span class="co">// true is good</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>max_participants <span class="op">=</span> <span class="dv">100</span><span class="op">;</span> <span class="co">// Max participants per contition [number]</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>max_time <span class="op">=</span> <span class="st">"24:00:00"</span><span class="op">;</span> <span class="co">// Max time to complete the protocol [HH:MM:SS]</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>debug_mode <span class="op">=</span> <span class="kw">false</span><span class="op">;</span> <span class="co">// SHOULD be false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li><p>Check that the <code>.data/</code> folder for your protocol is empty in the server. You will likely have remains of the piloting and Monkeys.</p></li>
<li><p>Clean up the MySQL data associated to your protocol.</p></li>
</ol>
<div class="cell">
<pre class="mysql cell-code"><code>SET @PID = 999; // HERE YOUR PROTOCOL ID!

delete from experimental_condition where id_protocol=@PID;
delete from user where id_protocol=@PID;
delete from user_condition where id_protocol=@PID;
delete from user_task where id_protocol=@PID;
delete from task where id_protocol=@PID;
delete from protocol where id_protocol=@PID;
</code></pre>
</div>
<p>You will most likely need help from the server admin to perform these steps.</p>
</section>
</section>
<section id="need-help-implementing-a-task" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="need-help-implementing-a-task"><span class="header-section-number">3.4</span> Need help implementing a task!</h2>
<p>If you need help creating a NEW task, see the section <a href="07-NEWtasks.html">help creating a new task</a>.</p>
</section>
<section id="developing-tasks" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="developing-tasks"><span class="header-section-number">3.5</span> Developing tasks</h2>
<p>Remember to place an <code>if (debug_mode === false)</code> before the randomization of the item order so when running in debug_mode, the items are not randomized. This is important so the behaviour of the jsPsychMonkeys is reproducible:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (debug_mode <span class="op">===</span> <span class="kw">false</span>) NAMETASK <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">repeat</span>(NAMETASK<span class="op">,</span><span class="dv">1</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="technical-aspects" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="technical-aspects"><span class="header-section-number">3.6</span> Technical aspects</h2>
<p>We currently use <a href="https://www.jspsych.org/6.3/">jsPsych 6.3</a>, and plan to migrate to the last stable jsPsych at some point. There is a <a href="https://www.jspsych.org/7.0/support/migration-v7/">migration guide</a> and a <a href="https://github.com/jspsych/jsPsych/discussions/2179">Github issue with migration questions</a>.</p>
<section id="misc" class="level3" data-number="3.6.1">
<h3 data-number="3.6.1" class="anchored" data-anchor-id="misc"><span class="header-section-number">3.6.1</span> Misc</h3>
<p>When index.html is launched:</p>
<ul>
<li>Checks if there are available slots</li>
</ul>
<p>When an uid is assigned:</p>
<ul>
<li><p><code>questions</code> array is created</p></li>
<li><p><code>between-participants</code> conditions are assigned and stored in the DB (MySQL if online, IndexedDB if offline)</p></li>
</ul>
<p>Each question, timeline or conditional question needs to have a:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>data<span class="op">:</span> {<span class="dt">trialid</span><span class="op">:</span> <span class="st">'NameTask_001'</span><span class="op">,</span> <span class="dt">procedure</span><span class="op">:</span> <span class="st">'NameTask'</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>trialid</code> identifies the trial, and the <code>procedure</code> makes possible to find that trial so participants can continue the tasks where they left, know when participants finished the tasks, etc. This is done in MySQL if online, IndexedDB if offline.</p>
<p><code>trialid</code>’s need to have a standardized structure, which generally conforms with <code>NameTask_3DigitNumber</code>. When using conditional items the structure can be a bit more complex, but not much. We use the following rules to check for non-complying trialid’s:</p>
<pre><code>^[a-zA-Z0-9]{1,100}_[0-9]{2,3}$ -&gt; `NameTask_2or3DigitNumber`, for example `BNT_001`  
^[a-zA-Z0-9]{1,100}_[0-9]{2,3}_[0-9]{1,3}$ -&gt; `NameTask_2or3DigitNumber_1to3DigitsSuffix`, for example `BNT_002_1`  
^[a-zA-Z0-9]{1,100}_[0-9]{2,3}_if$ -&gt; `NameTask_2or3DigitNumber`, for example `BNT_002_if`  
^[a-zA-Z0-9]{1,100}_[0-9]{2,3}_[0-9]{1,3}_if$  -&gt; `NameTask_2or3DigitNumber`, for example `BNT_002_1_if`  </code></pre>
</section>
<section id="jspsychmaker-main-changes-on-a-task" class="level3" data-number="3.6.2">
<h3 data-number="3.6.2" class="anchored" data-anchor-id="jspsychmaker-main-changes-on-a-task"><span class="header-section-number">3.6.2</span> jsPsychMaker main changes on a task</h3>
<ol type="1">
<li>Start of a task</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>questions <span class="op">=</span> ( <span class="kw">typeof</span> questions <span class="op">!=</span> <span class="st">'undefined'</span> <span class="op">&amp;&amp;</span> questions <span class="kw">instanceof</span> <span class="bu">Array</span> ) <span class="op">?</span> questions <span class="op">:</span> []<span class="op">;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>questions<span class="op">.</span><span class="fu">push</span>( <span class="fu">check_fullscreen</span>(<span class="st">'NameOfTask'</span>) )<span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>NameOfTask <span class="op">=</span> []<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Each item</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>data<span class="op">:</span> {<span class="dt">trialid</span><span class="op">:</span> <span class="st">'NameOfTask_01'</span><span class="op">,</span> <span class="dt">procedure</span><span class="op">:</span> <span class="st">'NameOfTask'</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>End of experiment</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (debug_mode <span class="op">==</span> <span class="st">'false'</span>) NameOfTask <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">repeat</span>(NameOfTask<span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>NameOfTask<span class="op">.</span><span class="fu">unshift</span>(instruction_screen_experiment)<span class="op">;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>questions<span class="op">.</span><span class="at">push</span><span class="op">.</span><span class="fu">apply</span>(questions<span class="op">,</span> NameOfTask)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>questions<span class="op">.</span><span class="fu">push</span>({</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">type</span><span class="op">:</span> <span class="st">'call-function'</span><span class="op">,</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">data</span><span class="op">:</span> {<span class="dt">trialid</span><span class="op">:</span> <span class="st">'NameOfTask_000'</span><span class="op">,</span> <span class="dt">procedure</span><span class="op">:</span> <span class="st">'NameOfTask'</span>}<span class="op">,</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">func</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (online) {</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">var</span> data <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">filter</span>({<span class="dt">procedure</span><span class="op">:</span> <span class="st">'NameOfTask'</span>})<span class="op">.</span><span class="fu">csv</span>()<span class="op">;</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">var</span> data <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">filter</span>({<span class="dt">procedure</span><span class="op">:</span> <span class="st">'NameOfTask'</span>})<span class="op">.</span><span class="fu">json</span>()<span class="op">;</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">saveData</span>(data<span class="op">,</span> online<span class="op">,</span> <span class="st">'NameOfTask'</span>)<span class="op">;</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="conditional-questions" class="level3" data-number="3.6.3">
<h3 data-number="3.6.3" class="anchored" data-anchor-id="conditional-questions"><span class="header-section-number">3.6.3</span> Conditional questions</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> question001 <span class="op">=</span> {</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">type</span><span class="op">:</span> <span class="st">'survey-multi-choice-vertical'</span><span class="op">,</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">questions</span><span class="op">:</span> [{<span class="dt">prompt</span><span class="op">:</span> <span class="st">'&lt;div class="justified"&gt;¿Usted se ha vacunado contra el coronavirus / covid-19?&lt;/div&gt;'</span><span class="op">,</span> <span class="dt">options</span><span class="op">:</span> [<span class="st">'&amp;nbsp;Si'</span><span class="op">,</span> <span class="st">'&amp;nbsp;No'</span>]<span class="op">,</span> <span class="dt">required</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span>  <span class="dt">random_options</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span> <span class="dt">horizontal</span><span class="op">:</span> <span class="kw">false</span>}]<span class="op">,</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">data</span><span class="op">:</span> {<span class="dt">trialid</span><span class="op">:</span> <span class="st">'PVC_001'</span><span class="op">,</span> <span class="dt">procedure</span><span class="op">:</span> <span class="st">'PVC'</span>}</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>PVC<span class="op">.</span><span class="fu">push</span>(question001)<span class="op">;</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> question001_1 <span class="op">=</span> {</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">type</span><span class="op">:</span> <span class="st">'survey-multi-choice-vertical'</span><span class="op">,</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">questions</span><span class="op">:</span> [{<span class="dt">prompt</span><span class="op">:</span> <span class="st">'&lt;div class="justified"&gt;¿Usted se va a vacunar contra el coronavirus covid-19?&lt;/div&gt;'</span><span class="op">,</span> <span class="dt">options</span><span class="op">:</span> [<span class="st">'&amp;nbsp;Si'</span><span class="op">,</span> <span class="st">'&amp;nbsp;No'</span><span class="op">,</span> <span class="st">'&amp;nbsp;No estoy seguro'</span>]<span class="op">,</span> <span class="dt">required</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span>  <span class="dt">random_options</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span> <span class="dt">horizontal</span><span class="op">:</span> <span class="kw">false</span>}]<span class="op">,</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">data</span><span class="op">:</span> {<span class="dt">trialid</span><span class="op">:</span> <span class="st">'PVC_001_1'</span><span class="op">,</span> <span class="dt">procedure</span><span class="op">:</span> <span class="st">'PVC'</span>}</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> if_question001_1 <span class="op">=</span> {</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="dt">timeline</span><span class="op">:</span> [question001_1]<span class="op">,</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="dt">data</span><span class="op">:</span> {<span class="dt">trialid</span><span class="op">:</span> <span class="st">'PVC_001_1_if'</span><span class="op">,</span> <span class="dt">procedure</span><span class="op">:</span> <span class="st">'PVC'</span>}<span class="op">,</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="dt">conditional_function</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> data <span class="op">=</span> (<span class="bu">JSON</span><span class="op">.</span><span class="fu">parse</span>((jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">values</span>()<span class="op">.</span><span class="fu">find</span>(x <span class="kw">=&gt;</span> x<span class="op">.</span><span class="at">trialid</span> <span class="op">===</span> <span class="st">'PVC_001'</span>))[<span class="st">'response'</span>])[<span class="st">'Q0'</span>])<span class="op">.</span><span class="fu">trim</span>()<span class="op">;</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>((data) <span class="op">==</span>  <span class="st">'No'</span>){</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>PVC<span class="op">.</span><span class="fu">push</span>(if_question001_1)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="common-errors" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="common-errors"><span class="header-section-number">3.7</span> Common ERRORS</h2>
<p>If you get the following error in the console: <code>Uncaught TypeError: Cannot read properties of undefined (reading 'procedure')</code></p>
<p>Run this in the console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> questions<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(i <span class="op">+</span> questions[i]<span class="op">.</span><span class="at">data</span>[<span class="st">"procedure"</span>])</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It will stop in one of the items. Go to the console, check the array <code>questions</code> and go to the number that failed.</p>
<p>When you know the task and item that fails, you probably need to add:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="vs">`data: {trialid: 'TASKNAME_ITEMNUMBER', procedure: 'TASKNAME'}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../qmd/02-QuickGuide.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Quick Guide</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../qmd/04-jsPsychMonkeys.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">jsPsychMonkeys</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>